<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Colorlib">
    <meta name="description" content="#">
    <meta name="keywords" content="#">
    <!-- Page Title -->
    <title>Тестування</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700,900" rel="stylesheet">
    <!-- Simple line Icon -->
    <link rel="stylesheet" href="static/css/simple-line-icons.css">
    <!-- Themify Icon -->
    <link rel="stylesheet" href="static/css/themify-icons.css">
    <!-- Hover Effects -->
    <link rel="stylesheet" href="static/css/set1.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="static/css/style.css">
</head>
<style>
  {
  box-sizing: border-box;
}
      div.left-block {
    float: left;
    width: 35%;
}
div.right-block {
    float: right;
    width: 63%;
}
  .left {
    float: left;
    width: 50%;
}
.righty {
    float: right;
    width: 50%;
}
body {
  background-color: #f1f1f1;
  counter-reset: heading;
}

h1 {
  text-align: center;  
}

input.invalid {
  background-color: #ffdddd;
}
.question:before {
  counter-increment: heading; /* Указываем идентификатор счетчика */
    content: counter(heading) " ";
}
.tab {
  display: block;
  background-color: #DCDCDC;
}

button {
  background-color: #4CAF50;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Raleway;
  cursor: pointer;
}

button:hover {
  opacity: 0.8;
}

#prevBtn {
  background-color: #bbbbbb;
}
</style>
<body>
    <!--============================= HEADER =============================-->
    <div class="nav-menu">
        <div class="bg transition">
            <div class="container-fluid fixed">
                <div class="row">
                    <div class="col-md-12">
                        <nav class="navbar navbar-expand-lg navbar-light">
                            <a href="/"  class="navbar-brand" style="color: #fff;font-size: 38px;">DbBK</a>
                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="icon-menu"></span>
              </button>
                            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                                <ul class="navbar-nav">
                                    <li class="nav-item active">
                                        <a class="nav-link" href="/">Головна</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/training">Тренажер</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/test">Тестування</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/user-account">Особистий кабінет</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="btn btn-outline-light top-btn" href="/student/logout">Вихід</a>
                                    </li>

                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- SLIDER -->
   
    <!--// SLIDER -->
    <!--//END HEADER -->

    <section class="main-block" style="background-color: white;">
       <main id="page" role="main" style="padding: 5%; ">
  <form method="post" id="regForm" action="/savetest"> <!--убрала action -->
  <script>
    var k = 1;
  </script>
        {{ range . }}
        {{ if (eq .Type_q 1)  }}
<div class="tab"><p class="question" style="padding-top: 20px; padding-right: 15px; padding-left: 15px;">{{ .Text_q }}</p>
    <p style="padding-right: 15px; padding-left: 15px;"><img src="/static/img/questions/q/{{.Id}}.png" width="300" height="150"></p>
    <table >
            <tr>
              <td>
          <table >
   {{range .Questions}}
          {{if (eq .Table_typo 1)}}
          <tr>
              <td><label><input type="radio" name="{{ .Id_q}}" id="true" onclick="nin(this)" value="{{.Id}}"></input>{{range .Answers}} {{ .Text_a}}</label></td></tr>
{{end}}
     {{end}}{{end}}
     </table>
     </td>
      <td>
<table ><tr>
              <td style="color: #DCDCDC;">jvkjv</td></tr></table>
      </td>
      <td>
<table >{{range .Questions}}
     {{if (eq .Table_typo 2)}}
          <tr>
              <td align="left"><label> <input type="radio" name="{{ .Id_q}}1" id="false" onclick="nin(this)" value="{{.Id}}"></input>{{range .Answers}} {{ .Text_a}}</label></td></tr>
{{end}}
     {{end}}{{end}}
     </table>
      </td>
      </tr>
</table>
      <input type="password" style="display: none;"></input>
       <input type="password" style="display: none;"></input>
     <p style="padding-right: 15px; padding-left: 15px; color: #DCDCDC">djk</p>
     </div>{{end}}


{{ if (eq .Type_q 2) }}
<div class="tab"><p class="question" style="padding-top: 20px; padding-right: 15px; padding-left: 15px;">{{ .Text_q }}</p>
          {{range .Questions}}
          {{if (eq .Correct true)}}
          <p style="padding-right: 15px; padding-left: 15px;"><label><input type="radio" name="{{ .Id_q}}" id="true" onclick="nin(this)" value="{{.Id}}"></input>
            {{range .Answers}} {{ .Text_a}}</label></p>
{{end}}
     {{end}}
     {{if (ne .Correct true)}}
          <p style="padding-right: 15px; padding-left: 15px;"><label> <input type="radio" name="{{ .Id_q}}" id="false" onclick="nin(this)" value="{{.Id}}"></input>
           {{range .Answers}} {{ .Text_a}}</label></p>
           <script>
            function nin(id) {
            console.log(id.value)
          }
           </script>
{{end}}
     {{end}}{{end}}
      <input type="password" style="display: none;"></input>
     <p style="padding-right: 15px; padding-left: 15px; color: #DCDCDC">djk</p>
     </div>{{end}}


{{ if (eq .Type_q 3) }}
<div class="tab"><p class="question" style="padding-top: 20px; padding-right: 15px; padding-left: 15px;">{{ .Text_q }}</p>
  <p style="padding-right: 15px; padding-left: 15px;"><img src="/static/img/questions/q/{{.Id}}.png" width="400" height="150"></p>
          {{range .Questions}}
          {{if (eq .Correct true)}}
          <p style="padding-right: 15px; padding-left: 15px;"><label><input type="radio" name="{{ .Id_q}}" id="true3"  onclick="nin(this)" value="{{.Id}}"></input>
            {{range .Answers}} {{ .Text_a}}</label></p>
{{end}}
     {{end}}
     {{if (ne .Correct true)}}
          <p style="padding-right: 15px; padding-left: 15px;"><label> <input type="radio" name="{{ .Id_q}}" id="false3"  onclick="nin(this)" value="{{.Id}}"></input>
           {{range .Answers}} {{ .Text_a}}</label></p>
{{end}}
     {{end}}{{end}}
     <input type="password" style="display: none;"></input>
     <p style="padding-right: 15px; padding-left: 15px; color: #DCDCDC">djk</p>
     </div>{{end}}

       {{if (eq .Type_q 5) }}
<div class="tab"><p class="question" style="padding-top: 20px; padding-right: 15px; padding-left: 15px;">{{ .Text_q }}</p>
          {{range .Questions}}
          {{if (eq .Correct true)}}
          <p style="padding-right: 15px; padding-left: 15px;"><label><input type="checkbox" name="{{ .Id_q}}" id="true"  onclick="nin(this)" value="{{.Id}}"></input>
            {{range .Answers}} {{ .Text_a}}</label><input type="password" style="display: none;" ></input></p>
{{end}}
     {{end}}
     {{if (ne .Correct true)}}
          <p style="padding-right: 15px; padding-left: 15px;"><label> <input type="checkbox" name="{{ .Id_q}}" id="false"  onclick="nin(this)" value="{{.Id}}"></input>
           {{range .Answers}} {{ .Text_a}}</label><input type="password" style="display: none;" ></input></p>
{{end}}
     {{end}}{{end}}
      <p style="padding-right: 15px; padding-left: 15px; color: #DCDCDC">djk</p>
     </div>{{end}}
{{if (eq .Type_q 6) }}
<div class="tab"><p class="question" style="padding-top: 20px; padding-right: 15px; padding-left: 15px;">{{ .Text_q }}</p>
          {{range .Questions}}
           {{if (eq .Correct true)}} 
          <p style="padding-right: 15px; padding-left: 15px;"><label style="color: #DCDCDC"> <input type="radio" name="{{ .Id_q}}" id="11"  onclick="nin(this)" value="{{.Id}}"></input>{{range .Answers}} 
            <img src="/static/img/questions/{{.Id}}.png" width="100" height="50">/static/img/questions/{{.Id}}.png</label> </p>
{{end}}
     {{end}}
     {{if (ne .Correct true)}} 
          <p style="padding-right: 15px; padding-left: 15px;"><label style="color: #DCDCDC"> <input type="radio" name="{{ .Id_q}}" id="12"  onclick="nin(this)" value="{{.Id}}"></input>{{range .Answers}} 
            <img src="/static/img/questions/{{.Id}}.png" width="100" height="50">/static/img/questions/{{.Id}}.png</label> </p>
{{end}}
     {{end}}{{end}}
      <input type="password" style="display: none;" ></input>
      <p style="padding-right: 15px; padding-left: 15px; color: #DCDCDC">djk</p>
     </div>
{{ end }}    
                                              <!-- ДОДАТИ ІНШІ ТИПИ ЗАПИТАНЬ-->
     
     {{end}}
     <p>Побачити результати тестування можна буде в особистому кабінеті.</p>
     <div style="overflow:auto;">
    <div style="float:right;">
      <input type="submit"  id="er" style="display: none" value="ok">
      <script> //проверка заполнены ли поля
      var x1, y1, i1;
      var q = 1;
          x1 = document.getElementsByClassName("tab");
        y1 = document.getElementsByTagName("input");
        for (i1 = 0; i1 < y1.length; i1++) { 
          if  (y1[i1].type == 'password') {
            y1[i1].id = q;
            y1[i1].name = q;
            q = q+1;
          }
        }
        for (i1 = 0; i1 < y1.length; i1++) { 
          if  (y1[i1].type == 'password') {
            console.log(y1[i1].id);
            console.log(y1[i1].value);
          }
        }
        function SaveTest() {
          var x, y, i, x1,y1,i1,j1;
          var u = 0;
          var r =1;
          var o = false;
          x = document.getElementsByClassName("tab");
        y = document.getElementsByTagName("input");
        for (i = 0; i < y.length; i++) { 
          if  (y[i].type == 'checkbox' && y[i].checked) {
            o = true;
          }
        }
         for (i = 0; i < y.length; i++) {
    // If a field is empty...
   if  (y[i].type == 'radio' && y[i].checked) {
      u = u+1;
    } else {
    }
}
if (o == true) {
  u = u+1;
}
var as = 0;
if (u >= x.length) {
  console.log('yes'); //виклик функції додавання тесту
          y1 = document.getElementsByTagName("input");
        for (i1 = 0; i1 < y1.length; i1++) { 
          if  (y1[i1].type == 'radio' && y1[i1].checked == true) {
            document.getElementById(r).value = y1[i1].value;
            r = r+1;
          } else {
            if (y1[i1].type == 'checkbox' && y1[i1].checked) {
              document.getElementById(r).value = y1[i1].value;
            r = r+1;
          } else {
            if (y1[i1].type == 'text') {
              document.getElementById(r).value = y1[i1].value;
          }
          }
          }

        }
    d = document.getElementsByTagName("input");
    for (i1 = 0; i1 < y1.length; i1++) {
      if (d[i1].type == 'password' && d[i1].value !='' ) {
        as = as+1;
      }
    }   
  document.getElementsByTagName("form").action = "/savetest"+as;
  document.getElementById("er").click();
} else {
  console.log('no');
}

}
      </script>
    </div>
  </div>
      </form>
      <button type="button" id="nextQuestion" onclick="SaveTest()">ОК</button>
</main>
    </section>

   
    <!--============================= CATEGORIES =============================-->

    <!--//END CATEGORIES -->
    
    <!--============================= FOOTER =============================-->
    <footer class="main-block dark-bg" style="padding: 30px 0;">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div style="text-align: center">
            <img src="/static/img/onaft.png" style="width: 60px; height: 60px; vertical-align: middle;">
            <span style="color: white"> ©  ONAFT  2019   </span>
            <img src="/static/img/KitKB.png" style="width: 100px; height: 70px; vertical-align: middle;">
          </div>
                </div>
            </div>
        </div>
    </footer>
    <!--//END FOOTER -->




    <!-- jQuery, Bootstrap JS. -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="static/js/jquery-3.2.1.min.js"></script>
    <script src="static/js/popper.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>

    <script>
        $(window).scroll(function() {
            // 100 = The point you would like to fade the nav in.

            if ($(window).scrollTop() > 100) {

                $('.fixed').addClass('is-sticky');

            } else {

                $('.fixed').removeClass('is-sticky');

            };
        });
    </script>
</body>

</html>
